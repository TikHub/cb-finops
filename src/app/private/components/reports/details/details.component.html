<div class="page">
  <h2 class="page__title fz-2 my-2">{{ "NewReport" | translate }}</h2>

  <form [formGroup]="form" class="reportForm">
    <div class="row row-2">
      <mat-form-field>
        <mat-label>{{ "TransactionNumber" | translate }}</mat-label>
        <input matInput [formControl]="dealId">
        <mat-error
          *ngIf="
              dealId.invalid && (dealId.touched || submitted)
            "
        >{{
          dealId.errors
            | getFirstError : "dealId" : validationMessages
            | translate
          }}</mat-error
        >
      </mat-form-field>

      <mat-form-field>
        <mat-label>{{ "TransactionType" | translate }}</mat-label>
        <mat-select [formControl]="dealType">
          <mat-option value="option">Option</mat-option>
        </mat-select>
        <mat-error
          *ngIf="
              dealType.invalid && (dealType.touched || submitted)
            "
        >{{
          dealType.errors
            | getFirstError : "dealType" : validationMessages
            | translate
          }}</mat-error
        >
      </mat-form-field>
    </div>

    <div class="row row-2">
      <mat-form-field>
        <mat-label>{{ "Participant" | translate }}</mat-label>
        <!--      <input matInput formControlName="participant">-->
        <mat-select [formControl]="participant">
          <mat-option value="option">Option</mat-option>
        </mat-select>
        <mat-error
          *ngIf="
              participant.invalid && (participant.touched || submitted)
            "
        >{{
          participant.errors
            | getFirstError : "participant" : validationMessages
            | translate
          }}</mat-error>
        <!--      <mat-hint align="end">Here's the dropdown arrow ^</mat-hint>-->
      </mat-form-field>

      <mat-form-field>
        <mat-label>{{ "Partner" | translate }}</mat-label>
        <mat-select [formControl]="partner">
          <mat-option value="option">Option</mat-option>
        </mat-select>
        <mat-error
          *ngIf="
              partner.invalid && (partner.touched || submitted)
            "
        >{{
          partner.errors
            | getFirstError : "partner" : validationMessages
            | translate
          }}</mat-error>
      </mat-form-field>
    </div>

    <div class="row row-2">
<!--      <mat-form-field>-->
<!--        <mat-label>{{ "DealDate" | translate }}</mat-label>-->
<!--        <input matInput [matDatepicker]="dealDate" (dateChange)="dealDateChange('change', $event)">-->
<!--        <mat-hint>MM/DD/YYYY</mat-hint>-->
<!--        <mat-datepicker-toggle matIconSuffix [for]="dealDate"></mat-datepicker-toggle>-->
<!--        <mat-datepicker #dealDate></mat-datepicker>-->
<!--      </mat-form-field>-->

<!--      <mat-form-field>-->
<!--        <mat-label>{{ "DealTime" | translate }}</mat-label>-->
<!--        <ngx-mat-timepicker [formControl]="dealTime"></ngx-mat-timepicker>-->
<!--      </mat-form-field>-->

      <mat-form-field>
        <mat-label>{{ 'DateTime' | translate }}</mat-label>
        <input
          matInput
          [ngxMatDatetimePicker]="picker"
          [formControl]="dealDate" />
        <mat-hint>MM/DD/YYYY</mat-hint>
        <mat-datepicker-toggle
          matSuffix
          [for]="$any(picker)"
        >
        </mat-datepicker-toggle>
        <ngx-mat-datetime-picker
          #picker
          [showSpinners]="true"
        >
        </ngx-mat-datetime-picker>
        <mat-error
          *ngIf="
              dealDate.invalid && (dealDate.touched || submitted)
            "
        >{{
          dealDate.errors
            | getFirstError : "dealDate" : validationMessages
            | translate
          }}</mat-error>
      </mat-form-field>

<!--      <mat-form-field>-->
<!--        <input [ngxMatTimepicker]="dealTime">-->
<!--        <ngx-mat-timepicker #dealTime></ngx-mat-timepicker>-->
<!--      </mat-form-field>-->

      <mat-form-field>
        <mat-label>{{ "CalculationDate" | translate }}</mat-label>
        <input matInput [matDatepicker]="calculationDate" (dateChange)="calculationDateChange('change', $event)">
        <mat-hint>MM/DD/YYYY</mat-hint>
        <mat-datepicker-toggle matIconSuffix [for]="calculationDate"></mat-datepicker-toggle>
        <mat-datepicker #calculationDate></mat-datepicker>
        <mat-error
          *ngIf="
              participant.invalid && (participant.touched || submitted)
            "
        >{{
          participant.errors
            | getFirstError : "participant" : validationMessages
            | translate
          }}</mat-error>
      </mat-form-field>
    </div>

    <div class="row row-3">
      <mat-form-field>
        <mat-label>{{ "CurrencyISOCode" | translate }}</mat-label>
        <mat-select [formControl]="isocode">
          <mat-option value="option">Option</mat-option>
        </mat-select>
        <mat-error
          *ngIf="
              isocode.invalid && (isocode.touched || submitted)
            "
        >{{
          isocode.errors
            | getFirstError : "isocode" : validationMessages
            | translate
          }}</mat-error>
      </mat-form-field>

      <mat-form-field>
        <mat-label>{{ "Volume" | translate }}</mat-label>
        <input matInput [formControl]="volume">
        <mat-error
          *ngIf="
              volume.invalid && (volume.touched || submitted)
            "
        >{{
          volume.errors
            | getFirstError : "volume" : validationMessages
            | translate
          }}</mat-error>
      </mat-form-field>

      <mat-form-field>
        <mat-label>{{ "Rate" | translate }}</mat-label>
        <input matInput [formControl]="rate">
        <mat-error
          *ngIf="
              rate.invalid && (rate.touched || submitted)
            "
        >{{
          rate.errors
            | getFirstError : "rate" : validationMessages
            | translate
          }}</mat-error>
      </mat-form-field>
    </div>

<!--    <button mat-raised-button color="primary" type="submit">Submit</button>-->
    <div class="reportForm__buttons">
      <button
        [disabled]="form.invalid && form.touched"
        mat-raised-button color="primary"
        type="button"
        class="mx-1"
        (click)="onRegister()"
      >{{ "Register" | translate }}</button>
      <button
        [disabled]="form.invalid && form.touched"
        mat-raised-button color="primary"
        type="button"
        (click)="onSend()"
      >{{ "Send" | translate }}</button>
    </div>
  </form>
</div>
